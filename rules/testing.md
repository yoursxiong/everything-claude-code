# 测试要求

## 最低测试覆盖率：80%

测试类型 (全部为强制要求)：
1. **单元测试 (Unit Tests)** - 独立的函数、工具类、组件
2. **集成测试 (Integration Tests)** - API 终端、数据库操作
3. **E2E 测试** - 关键用户流程 (Playwright)

## 测试驱动开发 (TDD)

强制性工作流：
1. 测试先行 (红 - RED)
2. 运行测试 —— 应当失败
3. 编写最简实现 (绿 - GREEN)
4. 运行测试 —— 应当通过
5. 重构 (提升 - IMPROVE)
6. 验证覆盖率 (80% 以上)

## 测试失败排查

1. 使用 **tdd-guide** 智能体
2. 检查测试隔离性
3. 验证模拟 (Mocks) 是否正确
4. 修复实现，而非修改测试 (除非测试本身有误)

## 智能体支持

- **tdd-guide** - 在开发新功能时主动使用，强制执行“测试先行”
- **e2e-runner** - Playwright E2E 测试专家
